#!/bin/bash
set -e

[[ -z $IMAGE ]] && IMAGE="node"
[[ -z $TAG ]] && TAG="slim"

docker run \
    --rm \
    -v /etc/group:/etc/group:ro \
    -v /etc/passwd:/etc/passwd:ro \
    -v /etc/localtime:/etc/localtime:ro \
    -v $HOME:$HOME \
    -v "$PWD:$PWD" \
    -u $USER \
    -w "$PWD" \
    -ti $IMAGE:$TAG npm "$@"
